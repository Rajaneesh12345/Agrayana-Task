(this["webpackJsonpreact-drag-and-drop-file-upload"]=this["webpackJsonpreact-drag-and-drop-file-upload"]||[]).push([[0],{28:function(e,t,s){},29:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(18),r=s.n(c),i=(s(28),s(29),s(30),s(7)),l=s(5),o=s(6),d=s(4),j=s(23),u=s(22),h=s(21),p=s(20),b=s.n(p).a.create({baseURL:"http://localhost:8080",headers:{"Content-type":"application/json"}}),m=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"upload",value:function(e,t){var s=new FormData;return s.append("file",e),b.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t})}},{key:"getFiles",value:function(){return b.get("/files")}}]),e}()),f=s(0),O=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).upload=a.upload.bind(Object(d.a)(a)),a.onDrop=a.onDrop.bind(Object(d.a)(a)),a.state={selectedFiles:void 0,currentFile:void 0,progress:0,message:"",fileInfos:[]},a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;m.getFiles().then((function(t){e.setState({fileInfos:t.data})}))}},{key:"upload",value:function(){var e=this,t=this.state.selectedFiles[0];this.setState({progress:0,currentFile:t}),m.upload(t,(function(t){e.setState({progress:Math.round(100*t.loaded/t.total)})})).then((function(t){return e.setState({message:t.data.message}),m.getFiles()})).then((function(t){e.setState({fileInfos:t.data})})).catch((function(){e.setState({progress:0,message:"Could not upload the file!",currentFile:void 0})})),this.setState({selectedFiles:void 0})}},{key:"onDrop",value:function(e){e.length>0&&(this.setState({selectedFiles:e}),console.log(e))}},{key:"render",value:function(){var e=this,t=this.state,s=t.selectedFiles,a=t.currentFile,n=t.progress,c=t.message,r=t.fileInfos;return Object(f.jsxs)("div",{children:[a&&Object(f.jsx)("div",{className:"progress mb-3",children:Object(f.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:{width:n+"%"},children:[n,"%"]})}),Object(f.jsx)(h.a,{onDrop:this.onDrop,children:function(t){var a=t.getRootProps,n=t.getInputProps;return Object(f.jsxs)("section",{children:[Object(f.jsxs)("div",Object(i.a)(Object(i.a)({},a({className:"dropzone"})),{},{children:[Object(f.jsx)("input",Object(i.a)({},n())),s&&s[0].name?Object(f.jsx)("div",{className:"selected-file",children:s&&s[0].name}):"Drag and drop file here, or click to select file"]})),Object(f.jsx)("aside",{className:"selected-file-wrapper",children:Object(f.jsx)("button",{className:"btn btn-success",disabled:!s,onClick:e.upload,children:"Upload"})})]})}}),Object(f.jsx)("div",{className:"alert alert-light",role:"alert",children:c}),r.length>0&&Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-header",children:"List of Files"}),Object(f.jsx)("ul",{className:"list-group list-group-flush",children:r.map((function(e,t){return Object(f.jsx)("li",{className:"list-group-item",children:Object(f.jsx)("a",{href:e.url,children:e.name})},t)}))})]})]})}}]),s}(a.Component);var v=function(){return Object(f.jsxs)("div",{class:"container mt-3",children:[Object(f.jsx)("h2",{children:"Stacked form"}),Object(f.jsxs)("form",{action:"/action_page.php",children:[Object(f.jsxs)("div",{class:"mb-3 mt-3",children:[Object(f.jsx)("label",{for:"email",children:"Email:"}),Object(f.jsx)("input",{type:"email",class:"form-control",id:"email",placeholder:"Enter email",name:"email"})]}),Object(f.jsxs)("div",{class:"mb-3",children:[Object(f.jsx)("label",{for:"pwd",children:"Password:"}),Object(f.jsx)("input",{type:"password",class:"form-control",id:"pwd",placeholder:"Enter password",name:"pswd"})]}),Object(f.jsx)("div",{class:"form-check mb-3",children:Object(f.jsxs)("label",{class:"form-check-label",children:[Object(f.jsx)("input",{class:"form-check-input",type:"checkbox",name:"remember"})," Remember me"]})}),Object(f.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})};var x=function(){return Object(f.jsxs)("div",{className:"container row flex",children:[Object(f.jsx)("div",{className:"col m-5",children:Object(f.jsx)(O,{})}),Object(f.jsx)("div",{class:"col m-5",children:Object(f.jsx)(v,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.8f1f71de.chunk.js.map